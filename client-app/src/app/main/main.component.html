<p-confirmDialog
  [style]="{ width: '50vw' }"
  [baseZIndex]="10000"
  rejectButtonStyleClass="p-button-text"
></p-confirmDialog>
<p-toast position="center"></p-toast>

<!--Header-->
<div class="navbar">
  <div class="nav-content">
    <h2 class="title">Home</h2>
  </div>
</div>
<br />

<!--Table-->
<div class="row">
  <div class="col-2 offset-1">
    <h2>Valvole</h2>
  </div>
</div>
<div class="row">
  <div class="col-2 offset-1">
    <button
      pButton
      pRipple
      type="button"
      label="Chiudi tutte"
      class="p-button-warning"
      (click)="closeAll()"
    ></button>
  </div>
</div>
<br />
<div class="row">
  <div class="col-10 offset-1">
    <p-table [value]="valves">
      <ng-template pTemplate="header">
        <tr>
          <th>ID</th>
          <th>Stato</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-valve>
        <tr>
          <td>{{ valve.name }}</td>
          <td>
            <p-inputSwitch
              [(ngModel)]="valve.isOpen"
              (onChange)="changeValveStatus(valve)"
            ></p-inputSwitch>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
